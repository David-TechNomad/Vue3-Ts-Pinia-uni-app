import{d as a,m as s,ao as e,o as l,j as t,a as u,b as o,w as r,e as c,F as n,r as i,c as p,t as d,B as g,f as m,h as f,i as _,k as v}from"./index-ed9e365a.js";import{c as x}from"./home.275a087b.js";import{_ as h}from"./plugin-vueexport-helper.1b428a4d.js";const j=h(a({__name:"XtxGuess",setup(a,{expose:h}){const j={page:1,pageSize:10},b=s([]),k=s(!1),w=async()=>{if(!0===k.value)return g({title:"没有更多数据～",icon:"none"});const a=await x(j);b.value.push(...a.result.items),j.page<a.result.pages?j.page++:k.value=!0};e((()=>{w()}));return h({resetData:()=>{j.page=1,b.value=[],k.value=!1},getMore:w}),(a,s)=>{const e=m,g=f,x=_,h=v;return l(),t(n,null,[u(" 猜你喜欢 "),o(g,{class:"caption"},{default:r((()=>[o(e,{class:"text"},{default:r((()=>[c("猜你喜欢")])),_:1})])),_:1}),o(g,{class:"guess"},{default:r((()=>[(l(!0),t(n,null,i(b.value,(a=>(l(),p(h,{url:`/pages/goods/goods?id=${a.id}`,class:"guess-item","hover-class":"none",key:a.id},{default:r((()=>[o(x,{src:a.picture,class:"image",mode:"aspectFill"},null,8,["src"]),o(g,{class:"name"},{default:r((()=>[c(d(a.name),1)])),_:2},1024),o(g,{class:"price"},{default:r((()=>[o(e,{class:"small"},{default:r((()=>[c("¥")])),_:1}),o(e,null,{default:r((()=>[c(d(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128)),o(g,{class:"loading-text"},{default:r((()=>[c(d(k.value?"没有更多数据～":"正在加载..."),1)])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-679bb67a"]]),b=()=>{const a=s();return{guessRef:a,onScrolltolower:()=>{var s;null==(s=a.value)||s.getMore()}}};export{j as _,b as u};
